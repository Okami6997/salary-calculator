<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Salary Calculator (FY 2024-25)</title>
    <style>
        :root {
            --primary: #2563eb;
            --primary-dark: #1e40af;
            --bg: #f3f4f6;
            --card-bg: #ffffff;
            --text: #1f2937;
            --border: #e5e7eb;
            --success: #10b981;
            --danger: #ef4444;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        
        body { background-color: var(--bg); color: var(--text); padding: 20px; }
        
        .container { max-width: 1000px; margin: 0 auto; background: var(--card-bg); border-radius: 12px; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1); overflow: hidden; }

        /* Header & Tabs */
        .header { background: var(--primary); color: white; padding: 20px; text-align: center; }
        .header h1 { font-size: 1.5rem; margin-bottom: 5px; }
        .header p { font-size: 0.9rem; opacity: 0.9; }

        .tabs { display: flex; cursor: pointer; background: #e0e7ff; }
        .tab { flex: 1; padding: 15px; text-align: center; font-weight: 600; color: var(--text); border-bottom: 3px solid transparent; transition: 0.3s; }
        .tab:hover { background: #dbeafe; }
        .tab.active { border-bottom: 3px solid var(--primary); color: var(--primary); background: white; }

        /* Content Sections */
        .content { display: none; padding: 20px; }
        .content.active { display: block; }

        /* Grid Layout for Calculator */
        .calc-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; }
        
        @media (max-width: 768px) {
            .calc-grid { grid-template-columns: 1fr; }
        }

        /* Forms */
        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; font-size: 0.9rem; font-weight: 500; margin-bottom: 5px; color: #4b5563; }
        .form-group input, .form-group select { width: 100%; padding: 10px; border: 1px solid var(--border); border-radius: 6px; font-size: 1rem; }
        .form-group input:focus { outline: none; border-color: var(--primary); box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1); }
        .note { font-size: 0.75rem; color: #6b7280; margin-top: 4px; }

        /* Result Cards */
        .result-box { border: 1px solid var(--border); border-radius: 8px; overflow: hidden; }
        .result-header { padding: 10px 15px; font-weight: bold; text-align: center; color: white; }
        .old-header { background: #4f46e5; }
        .new-header { background: #059669; }
        
        .result-body { padding: 15px; }
        .result-row { display: flex; justify-content: space-between; margin-bottom: 10px; font-size: 0.9rem; }
        .result-row.total { font-weight: bold; border-top: 1px solid var(--border); padding-top: 10px; margin-top: 10px; font-size: 1.1rem; color: var(--primary-dark); }
        
        /* Tax Rules Table */
        .tax-table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
        .tax-table th, .tax-table td { border: 1px solid var(--border); padding: 10px; text-align: left; font-size: 0.9rem; }
        .tax-table th { background-color: #f8fafc; color: var(--primary-dark); }
        
        .highlight-green { color: var(--success); font-weight: bold; }
        .highlight-red { color: var(--danger); font-weight: bold; }

        .btn-calc {
            width: 100%;
            padding: 12px;
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 1rem;
            cursor: pointer;
            margin-top: 10px;
        }
        .btn-calc:hover { background-color: var(--primary-dark); }

    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <h1>ðŸ‡®ðŸ‡³ Indian Salary Calculator</h1>
        <p>FY 2024-25 (AY 2025-26)</p>
    </div>

    <div class="tabs">
        <div class="tab active" onclick="switchTab('calculator')">Salary Calculator</div>
        <div class="tab" onclick="switchTab('rules')">Tax Rules & Info</div>
    </div>

    <div id="calculator" class="content active">
        <div class="calc-grid">
            <div class="inputs">
                <h3>Income Details</h3>
                <div class="form-group">
                    <label>Total Annual CTC (â‚¹)</label>
                    <input type="number" id="ctc" placeholder="e.g. 1500000" oninput="calculate()">
                </div>
                <div class="form-group">
                    <label>Basic Salary (Yearly â‚¹)</label>
                    <input type="number" id="basic" placeholder="Usually 40-50% of CTC" oninput="calculate()">
                    <div class="note">Required for HRA calculation.</div>
                </div>
                
                <h3 style="margin-top: 20px;">Deductions (Old Regime Only)</h3>
                <div class="form-group">
                    <label>Section 80C (EPF, PPF, LIC, etc.)</label>
                    <input type="number" id="80c" placeholder="Max 1.5 Lakh" oninput="calculate()">
                </div>
                <div class="form-group">
                    <label>Section 80D (Medical Insurance)</label>
                    <input type="number" id="80d" placeholder="e.g. 25000" oninput="calculate()">
                </div>
                <div class="form-group">
                    <label>HRA Exemption</label>
                    <div style="display: flex; gap: 10px; margin-bottom: 5px;">
                        <input type="number" id="rentPaid" placeholder="Annual Rent Paid" oninput="calculate()">
                    </div>
                    <select id="metro" onchange="calculate()">
                        <option value="false">Non-Metro City (40%)</option>
                        <option value="true">Metro City (50%)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Other Deductions (LTA, 80E, etc.)</label>
                    <input type="number" id="otherDeductions" placeholder="Total other deductions" oninput="calculate()">
                </div>
            </div>

            <div class="results">
                <h3>Comparison</h3>
                
                <div class="result-box" style="margin-bottom: 20px;">
                    <div class="result-header new-header">New Regime (Default)</div>
                    <div class="result-body">
                        <div class="result-row"><span>Gross Salary</span><span id="new-gross">0</span></div>
                        <div class="result-row"><span>Std Deduction</span><span class="highlight-green" id="new-std">75,000</span></div>
                        <div class="result-row"><span>Other Deductions</span><span>0</span></div>
                        <div class="result-row"><span>Taxable Income</span><span id="new-taxable">0</span></div>
                        <div class="result-row"><span>Income Tax</span><span id="new-tax">0</span></div>
                        <div class="result-row"><span>Cess (4%)</span><span id="new-cess">0</span></div>
                        <div class="result-row total"><span>Net In-Hand (Yearly)</span><span id="new-inhand">0</span></div>
                        <div class="result-row total" style="font-size: 0.9rem; color: #555;"><span>In-Hand (Monthly)</span><span id="new-monthly">0</span></div>
                    </div>
                </div>

                <div class="result-box">
                    <div class="result-header old-header">Old Regime</div>
                    <div class="result-body">
                        <div class="result-row"><span>Gross Salary</span><span id="old-gross">0</span></div>
                        <div class="result-row"><span>Std Deduction</span><span class="highlight-green">50,000</span></div>
                        <div class="result-row"><span>HRA Exemption</span><span class="highlight-green" id="old-hra">0</span></div>
                        <div class="result-row"><span>80C + 80D + Others</span><span class="highlight-green" id="old-deductions">0</span></div>
                        <div class="result-row"><span>Taxable Income</span><span id="old-taxable">0</span></div>
                        <div class="result-row"><span>Income Tax</span><span id="old-tax">0</span></div>
                        <div class="result-row"><span>Cess (4%)</span><span id="old-cess">0</span></div>
                        <div class="result-row total"><span>Net In-Hand (Yearly)</span><span id="old-inhand">0</span></div>
                        <div class="result-row total" style="font-size: 0.9rem; color: #555;"><span>In-Hand (Monthly)</span><span id="old-monthly">0</span></div>
                    </div>
                </div>

                <div id="recommendation" style="margin-top: 15px; padding: 10px; background: #dcfce7; border: 1px solid #86efac; border-radius: 6px; text-align: center; color: #166534; font-weight: bold;">
                    Recommendation will appear here.
                </div>
            </div>
        </div>
    </div>

    <div id="rules" class="content">
        <h2>Indian Tax System (FY 2024-25)</h2>
        <p style="margin-bottom: 20px;">Comparison of tax slabs and deduction rules.</p>

        <h3>1. Income Tax Slabs</h3>
        <table class="tax-table">
            <thead>
                <tr>
                    <th>Income Range</th>
                    <th>New Regime Rates</th>
                    <th>Old Regime Rates</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>0 - â‚¹2,50,000</td>
                    <td>Nil</td>
                    <td>Nil</td>
                </tr>
                <tr>
                    <td>â‚¹2,50,001 - â‚¹3,00,000</td>
                    <td>Nil</td>
                    <td>5%</td>
                </tr>
                <tr>
                    <td>â‚¹3,00,001 - â‚¹5,00,000</td>
                    <td>5%</td>
                    <td>5%</td>
                </tr>
                <tr>
                    <td>â‚¹5,00,001 - â‚¹7,00,000</td>
                    <td>5%</td>
                    <td>20%</td>
                </tr>
                <tr>
                    <td>â‚¹7,00,001 - â‚¹10,00,000</td>
                    <td>10%</td>
                    <td>20%</td>
                </tr>
                <tr>
                    <td>â‚¹10,00,001 - â‚¹12,00,000</td>
                    <td>15%</td>
                    <td>30%</td>
                </tr>
                <tr>
                    <td>â‚¹12,00,001 - â‚¹15,00,000</td>
                    <td>20%</td>
                    <td>30%</td>
                </tr>
                <tr>
                    <td>Above â‚¹15,00,000</td>
                    <td>30%</td>
                    <td>30%</td>
                </tr>
            </tbody>
        </table>

        <h3>2. Deductions Comparison</h3>
        <table class="tax-table">
            <thead>
                <tr>
                    <th>Deduction Type</th>
                    <th>New Regime</th>
                    <th>Old Regime</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Standard Deduction</td>
                    <td>â‚¹75,000</td>
                    <td>â‚¹50,000</td>
                </tr>
                <tr>
                    <td>Section 80C</td>
                    <td class="highlight-red">Not Allowed</td>
                    <td>Allowed (Max â‚¹1.5L)</td>
                </tr>
                <tr>
                    <td>HRA Exemption</td>
                    <td class="highlight-red">Not Allowed</td>
                    <td>Allowed</td>
                </tr>
                <tr>
                    <td>Health Insurance (80D)</td>
                    <td class="highlight-red">Not Allowed</td>
                    <td>Allowed</td>
                </tr>
                <tr>
                    <td>Tax Rebate (87A)</td>
                    <td>Income up to â‚¹7 Lakh<br>(Tax = 0)</td>
                    <td>Income up to â‚¹5 Lakh<br>(Tax = 0)</td>
                </tr>
            </tbody>
        </table>
    </div>

</div>

<script>
    // Tab Switching Logic
    function switchTab(tabId) {
        document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
        document.querySelectorAll('.content').forEach(c => c.classList.remove('active'));
        
        document.querySelector(`.tab[onclick="switchTab('${tabId}')"]`).classList.add('active');
        document.getElementById(tabId).classList.add('active');
    }

    // Main Calculation Logic
    function calculate() {
        // 1. Get Inputs
        const ctc = parseFloat(document.getElementById('ctc').value) || 0;
        const basic = parseFloat(document.getElementById('basic').value) || 0;
        
        // Old Regime Inputs
        const rentPaid = parseFloat(document.getElementById('rentPaid').value) || 0;
        const isMetro = document.getElementById('metro').value === 'true';
        let ded80c = parseFloat(document.getElementById('80c').value) || 0;
        const ded80d = parseFloat(document.getElementById('80d').value) || 0;
        const otherDed = parseFloat(document.getElementById('otherDeductions').value) || 0;

        // Cap 80C at 1.5 Lakh
        if (ded80c > 150000) ded80c = 150000;

        // --- HRA Calculation (Old Regime) ---
        // Min of: 1. Actual HRA Received (Assumed 40% of Basic usually, but here we assume HRA component exists in CTC. 
        // For simplicity in this calculator, we calculate exemption based on Rent Paid vs Basic)
        // Formula: Min(Rent Paid - 10% Basic, 50%/40% Basic)
        // Note: In real payroll, HRA received is a fixed component. We will assume HRA Received is sufficient to cover the claim or max out at 50% basic.
        let hraExemption = 0;
        if (rentPaid > 0 && basic > 0) {
            const rule1 = rentPaid - (0.10 * basic);
            const rule2 = isMetro ? (0.50 * basic) : (0.40 * basic);
            hraExemption = Math.min(rule1, rule2);
            if (hraExemption < 0) hraExemption = 0;
        }

        // --- OLD REGIME CALCULATION ---
        const oldStdDed = 50000;
        const totalOldDed = ded80c + ded80d + otherDed + hraExemption + oldStdDed;
        let oldTaxable = ctc - totalOldDed;
        if(oldTaxable < 0) oldTaxable = 0;

        let oldTax = calculateOldRegimeTax(oldTaxable);
        
        // Surcharge Old (10% > 50L, 15% > 1Cr, 25% > 2Cr, 37% > 5Cr)
        let oldSurcharge = getSurcharge(oldTax, oldTaxable, 'old');
        let finalOldTax = (oldTax + oldSurcharge) * 1.04; // + 4% Cess

        // 87A Rebate Old (Income <= 5L, Tax is 0)
        if (oldTaxable <= 500000) finalOldTax = 0;


        // --- NEW REGIME CALCULATION (FY 2024-25 Rules) ---
        const newStdDed = 75000; // Updated Budget 2024
        let newTaxable = ctc - newStdDed;
        if (newTaxable < 0) newTaxable = 0;

        let newTax = calculateNewRegimeTax(newTaxable);

        // Surcharge New (Max capped at 25%)
        let newSurcharge = getSurcharge(newTax, newTaxable, 'new');
        let finalNewTax = (newTax + newSurcharge) * 1.04; // + 4% Cess

        // 87A Rebate New (Income <= 7L, Tax is 0)
        if (newTaxable <= 700000) finalNewTax = 0;
        // Note: Marginal relief exists for New Regime slightly above 7L, handled roughly here by assuming 0 tax if under 7L.

        // --- Update UI ---
        // New Regime
        document.getElementById('new-gross').innerText = formatCurrency(ctc);
        document.getElementById('new-taxable').innerText = formatCurrency(newTaxable);
        document.getElementById('new-tax').innerText = formatCurrency(finalNewTax);
        document.getElementById('new-cess').innerText = formatCurrency((newTax + newSurcharge) * 0.04);
        document.getElementById('new-inhand').innerText = formatCurrency(ctc - finalNewTax);
        document.getElementById('new-monthly').innerText = formatCurrency((ctc - finalNewTax)/12);

        // Old Regime
        document.getElementById('old-gross').innerText = formatCurrency(ctc);
        document.getElementById('old-hra').innerText = formatCurrency(hraExemption);
        document.getElementById('old-deductions').innerText = formatCurrency(ded80c + ded80d + otherDed);
        document.getElementById('old-taxable').innerText = formatCurrency(oldTaxable);
        document.getElementById('old-tax').innerText = formatCurrency(finalOldTax);
        document.getElementById('old-cess').innerText = formatCurrency((oldTax + oldSurcharge) * 0.04);
        document.getElementById('old-inhand').innerText = formatCurrency(ctc - finalOldTax);
        document.getElementById('old-monthly').innerText = formatCurrency((ctc - finalOldTax)/12);

        // Recommendation
        const diff = (ctc - finalNewTax) - (ctc - finalOldTax);
        const recBox = document.getElementById('recommendation');
        if (Math.abs(diff) < 100) {
            recBox.innerText = "Both regimes offer similar tax benefits.";
            recBox.style.backgroundColor = "#e0f2fe";
            recBox.style.borderColor = "#7dd3fc";
            recBox.style.color = "#0369a1";
        } else if (diff > 0) {
            recBox.innerText = `New Regime is better. You save ${formatCurrency(diff)} per year.`;
            recBox.style.backgroundColor = "#dcfce7";
            recBox.style.borderColor = "#86efac";
            recBox.style.color = "#166534";
        } else {
            recBox.innerText = `Old Regime is better. You save ${formatCurrency(Math.abs(diff))} per year.`;
            recBox.style.backgroundColor = "#fff7ed";
            recBox.style.borderColor = "#fdba74";
            recBox.style.color = "#9a3412";
        }
    }

    // Helper: Tax Logic Old
    function calculateOldRegimeTax(income) {
        let tax = 0;
        if (income > 1000000) {
            tax += (income - 1000000) * 0.30;
            tax += 112500; // Tax for 10L
        } else if (income > 500000) {
            tax += (income - 500000) * 0.20;
            tax += 12500; // Tax for 5L
        } else if (income > 250000) {
            tax += (income - 250000) * 0.05;
        }
        return tax;
    }

    // Helper: Tax Logic New (FY 24-25)
    // Slabs: 0-3L (Nil), 3-7L (5%), 7-10L (10%), 10-12L (15%), 12-15L (20%), >15L (30%)
    function calculateNewRegimeTax(income) {
        let tax = 0;
        if (income > 1500000) {
            tax += (income - 1500000) * 0.30;
            income = 1500000;
        }
        if (income > 1200000) {
            tax += (income - 1200000) * 0.20;
            income = 1200000;
        }
        if (income > 1000000) {
            tax += (income - 1000000) * 0.15;
            income = 1000000;
        }
        if (income > 700000) {
            tax += (income - 700000) * 0.10;
            income = 700000;
        }
        if (income > 300000) {
            tax += (income - 300000) * 0.05;
        }
        return tax;
    }

    // Helper: Surcharge
    function getSurcharge(tax, income, type) {
        let rate = 0;
        if (income > 5000000 && income <= 10000000) rate = 0.10;
        else if (income > 10000000 && income <= 20000000) rate = 0.15;
        else if (income > 20000000) {
            rate = 0.25;
            if (type === 'old' && income > 50000000) rate = 0.37; // Old regime has 37% slab
        }
        return tax * rate;
    }

    // Helper: Formatting
    function formatCurrency(num) {
        return "â‚¹" + Math.round(num).toLocaleString('en-IN');
    }
</script>

</body>
</html>